### 多线程的几种实现方式，什么是线程安全。

实现runnable接口、继承Thread类、实现Callable接口。

当多个线程同时访问一个共享数据时，结果与预期的一样那就是线程安全的，反之就是线程不安全的

### volatile的原理，作用，能代替锁么。

volatile变量可以保证在每次读取他的时候都从主内存上读取，在赋值操作之后，都会立刻将值刷新到主内存上，以上说明volatile变量可以保证可见性，他还有一个作用就是禁止重排序（java编译器和处理器为了提高程序的性能会对代码进行重排序）原理就是在写操作之前插入StoreStoreBarrier，写操作之后插入StoreLoadBarrier，读操作之后插入LoadLoadBarrier和LoadStoreBarrier。

不能代替锁，因为锁保证的不旦旦是可见性，还保证了原子性

> StoreStoreBarrier：禁止前面的写操作与后面的写操作重排序
>
> StoreLoadBarrier：禁止前面的写操作与后面的volatile读操作重排序
>
> LoadLoadBarrier：禁止前面的读操作与后面的读操作重排序
>
> LoadStoreBarrier：禁止前面的读操作与后面的写操作重排序

### 画一个线程的生命周期状态图。





### sleep和wait的区别。

sleep是让线程处于休眠状态，wait让线程处于等待状态

sleep是Thread的静态方法，wait是Object的实例方法

sleep并不会释放锁，并在指定的时间自动唤醒，而wait会直接释放锁

### sleep和sleep(0)的区别。

sleep是让线程挂起处于等待状态，待到指定时间后将自动唤醒，这是线程就处于就绪态，重新竞争cpu，sleep(0)并不会将线程挂起0毫秒处于等待状态，而是直接放弃现有的cpu资源，让线程处于就绪状态，重新竞争cpu

### Lock与Synchronized的区别 。

lock和synchronized都保证了原子性和可见性，区别就是synchronized是C++实现的，而且竞争不到锁的时候，只能一直等待不能人为的干预，比如中断或者设置超时时间，还有就是锁是互斥锁；Lock是由java实现的采用的是locksupport使线程进入等待状态，有两个常用的实现就是ReentrantLock和ReadWriteLock，添加了定时锁和可中断锁的功能

### synchronized的原理是什么，一般用在什么地方(比如加在静态方法和非静态方法的区别，静态方法和非静态方法同时执行的时候会有影响吗)，解释以下名词：重排序，自旋锁，偏向锁，轻量级锁，可重入锁，公平锁，非公平锁，乐观锁，悲观锁。

synchronized底层是使用monitorenter和monitorexit实现的，java对象中包含对象头就是markword，markword包含了一个monitor，monitor中有个waitset和entrylist和cxq

### 用过哪些原子类，他们的原理是什么。

AtomicInteger、AtomicLong、AtomicReference、AtomicBoolean；原理是采用CAS实现的

### JUC下研究过哪些并发工具，讲讲原理。

CountDownLatch：内部类继承了AQS实现了共享锁，常用的方法就是await和countDown，在new对象的时候，传入一个值n，这个值表示共享锁的个数。在new对象的时候，就默认加了n次共享锁，之后每次调用countDown都会释放一个共享锁，调用await方法的逻辑就是获取一个共享锁，有个条件是在共享锁全部释放完毕才能获取到

CyclicBarrier：常用方法是await方法，在调用它的时候，会先用reentrantLock获取锁。然后将count减1，判断count是否为0如果不为0就用condition将线程等待，否则重置count并将condition上的线程唤醒

Samephore：其实就是一个共享锁，只不过是指定了共享锁的数量

### 用过线程池吗，如果用过，请说明原理，并说说newCache和newFixed有什么区别，构造函数的各个参数的含义是什么，比如coreSize，maxsize等。

线程池的关闭方式有几种，各自的区别是什么。
假如有一个第三方接口，有很多个线程去调用获取数据，现在规定每秒钟最多有10个线程同时调用它，如何做到

spring的controller是单例还是多例，怎么保证并发的安全。
用三个线程按顺序循环打印abc三个字母，比如abcabcabc。
ThreadLocal用过么，用途是什么，原理是什么，用的时候要注意什么。

如果让你实现一个并发安全的链表，你会怎么做。
有哪些无锁数据结构，他们实现的原理是什么。
讲讲java同步机制的wait和notify。
CAS机制是什么，如何解决ABA问题。
多线程如果线程挂住了怎么办。
countdownlatch和cyclicbarrier的内部原理和用法，以及相互之间的差别(比如countdownlatch.await方法和是怎么实现的)。
对AbstractQueuedSynchronizer了解多少，讲讲加锁和解锁的流程，独占锁和公平锁加锁有什么不同。
使用synchronized修饰静态方法和非静态方法有什么区别。
简述ConcurrentLinkedQueue和LinkedBlockingQueue的用处和不同之处。
导致线程死锁的原因？怎么解除线程死锁。
非常多个线程（可能是不同机器），相互之间需要等待协调，才能完成某种工作，问怎么设计这种协调方案。
用过读写锁吗，原理是什么，一般在什么场景下用。
开启多个线程，如果保证顺序执行，有哪几种实现方式，或者如何保证多个线程都执行完再拿到结果。
延迟队列的实现方式，delayQueue和时间轮算法的异同。
